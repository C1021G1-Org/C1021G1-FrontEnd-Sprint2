<div class="container">

  <div class="row he-tex mt-3 ">
    <div class="col-md-12 text-center">
      <h3>Danh Sách Vé</h3>
    </div>


  </div>

  <form [formGroup]="searchForm" class="mb-3 mt-2 row">
    <div class="form-box">
      <!--            <div class="d-flex justify-content-between">-->

      <div class="box-left">
        <button type="button" class="btn btn-primary">
          <span class="fa fa-plus-circle mt-1"></span>
        </button>
      </div>
      <div class="box-right">
        <div class="col-right-2 col-right-select ">
          <div class="form-group ">
            <select class="form-control" formControlName="floor">
              <option value="" selected disabled>-Tầng-</option>
              <option *ngFor="let floor of listFloor;index as f" [ngValue]="floor.name">{{floor.name}}</option>
            </select>
          </div>
        </div>
        <div class="col-right-2 col-right-select">
          <div class="form-group ">
            <select class="form-control" formControlName="ticketTypeName">
              <option value="" disabled selected>-Loại Vé-</option>
              <option *ngFor="let type of listTypeTicket;index as t" [ngValue]="type.name">{{type.name}}</option>

            </select>
          </div>
        </div>
        <div class="col-right-1">

          <div class="form-group">

            <input class="form-control" type="text" placeholder="ngày kết thúc" onfocus="(this.type = 'date')"
                   onblur="(this.type = 'text')" formControlName="endDate">

          </div>
        </div>
        <div class="col-right-1">
          <div class="form-group">
            <input type="text"
                   class="form-control" placeholder="Họ và tên" formControlName="nameCustomer">
          </div>
        </div>
        <div class="col-right-1">
          <div class="form-group">
            <input type="text"
                   class="form-control" placeholder="Số Điện Thoại" formControlName="phoneCustomer">

          </div>
        </div>
        <div class="col-right-2">
          <a class="btn btn-success col-right-button" (click)="searchTicket()">
            <span class="fa fa-search"></span>
          </a>
        </div>
      </div>

    </div>

    <!--        </div>-->
  </form>

  <table class="table  table-responsive table-striped text-center table-border">
    <thead class="text-white tb-header">
    <tr>
      <th>Mã Vé</th>
      <th>Biển số Xe</th>
      <th>Tên Khách Hàng</th>
      <!--            <th>Mã Khách Hàng</th>-->
      <th>Số Điện Thoại</th>
      <th>Trạng Thái</th>
      <th colspan="2">Thao Tác</th>

    </tr>
    </thead>
    <tbody class=" table-side-bar">
    <tr *ngFor="let item of ticketListFirst;index as i">
      <td>{{item.code}}</td>
      <td>{{item.car.carPlate}}</td>
      <td>{{item.car.customer.name}}</td>
      <td>{{item.car.customer.phone}}</td>
      <td class="text-center" *ngIf="item.flagExpire"><span class="fa fa-remove"> Đã Hết Hạn</span></td>
      <td class="text-center" *ngIf="!item.flagExpire"><span class="fa fa-check"> Còn Hạn</span></td>
      <td>
        <a role="button" data-bs-toggle="modal" data-bs-target="#exampleModal2"><span
          class="fa fa-trash text-danger" style="font-size:24px"></span></a>


      </td>
      <td>
        <a role="button" data-bs-toggle="modal" data-bs-target="#exampleModal"><span
          class="fa fa-pencil" style="font-size:24px"></span></a>
      </td>

    </tr>

    <tr>
      <td colspan="7" class="text-right">
        Hiển thị <span>{{size}}</span> trong số <span>{{totalElements}}</span> kết quả
        Trang <span>{{number}}</span>/<span>{{totalPages}}</span>
      </td>
    </tr>
    </tbody>

  </table>

  <div class="row text-center">
    <div class="col-md-12">
      <div class="pagination">
        <button (click)="firstPage()"><span class="fa fa-angle-double-left"></span></button>
        <button (click)="previousPage()"><span class="fa fa-angle-left"></span></button>
        <!--        <button [class.active]="page+1==1">1</button>-->
        <!--        <button [class.active]="page+1==2">2</button>-->
        <!--        <button [class.active]="page+1==3">3</button>-->
        <!--        <button [class.active]="page+1==4">4</button>-->
        <!--        <button [class.active]="page+1==5">5</button>-->
        <!--        <button [class.active]="page+1==5">6</button>-->
        <!--        <button  *ngFor="let numPage of totalPages" [class.active]="page+1==numPage">{{numPage}}</button>-->
        <ng-container *ngIf="totalPages>0">
       
        </ng-container>
        <button (click)="nextPage()"><span class="fa fa-angle-right"></span></button>
        <button (click)="lastPage()"><span class="fa fa-angle-double-right"></span></button>


      </div>
    </div>


  </div>

</div>


<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Chỉnh sửa vé xe</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Save changes</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel2">Xác nhận xóa vé</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <h3>Bạn có chắc xóa vé xe <span class="text-danger font-weight-normal">SV-001</span> với biển số xe
          <span class="text-danger font-weight-normal">99-H7 7777</span></h3>
        <p class="text-danger font-weight-normal">(Lưu ý thao tác này không thể hoàng tác lại)</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn button-cancel" data-bs-dismiss="modal">HỦY</button>
        <button type="button" class="btn button-confirm" data-bs-dismiss="modal">Đồng Ý</button>
      </div>
    </div>
  </div>
</div>

